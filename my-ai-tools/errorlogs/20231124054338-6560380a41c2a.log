{"user_input":{"prompt":"coffee"}}
{"gpt_response":{"id":"chatcmpl-8OJGUFK6I8IzQh9nUAya8tHwWy1LH","object":"chat.completion","created":1700804618,"model":"gpt-4-1106-preview","choices":[{"index":0,"message":{"role":"assistant","content":"```mermaid\nflowchart LR\n  A[Start] --> B{Do you want coffee?}\n  B -- Yes --> C[Choose type of coffee]\n  C -->|Espresso| D[Prep Espresso]\n  C -->|Latte| E[Prep Latte]\n  C -->|Cappuccino| F[Prep Cappuccino]\n  C -->|Black| G[Prep Black Coffee]\n  D --> H{Customize}\n  E --> H\n  F --> H\n  G --> H\n  H -- Yes --> I[Add Sugar]\n  H -- No --> J[Proceed to Serve]\n  I --> J\n  J --> K[Pour Coffee]\n  K --> L{Add-ons?}\n  L -- Yes --> M[Choose Add-on]\n  L -- No --> N[Serve Coffee]\n  M -->|Milk Foam| O[Add Milk Foam]\n  M -->|Cinnamon| P[Add Cinnamon]\n  M -->|Chocolate| Q[Add Chocolate]\n  M -->|Whipped Cream| R[Add Whipped Cream]\n  O --> N\n  P --> N\n  Q --> N\n  R --> N\n  B -- No --> X[Maybe Tea?]\n  X -- Yes --> Y[Prepare Tea]\n  X -- No --> Z[Serve Water]\n  Y --> N\n  Z --> N\n  N --> END[Enjoy your beverage!]\n\n  classDef default fill:#f9f,stroke:#333,stroke-width:2px;\n  classDef yesno fill:#bbf,stroke:#333,stroke-width:2px;\n  classDef operation fill:#fdfd96,stroke:#333,stroke-width:2px;\n  classDef end fill:#82b74b,stroke:#333,stroke-width:2px;\n  \n  class B,C,H,L,X yesno;\n  class D,E,F,G,I,J,K,M,O,P,Q,R end;\n  class A,END operation;\n  class Y,Z default;\n```"},"finish_reason":"stop"}],"usage":{"prompt_tokens":135,"completion_tokens":425,"total_tokens":560},"system_fingerprint":"fp_a24b4d720c"}}
{"mermaid_syntax":"flowchart LR\n  A[Start] --> B{Do you want coffee?}\n  B -- Yes --> C[Choose type of coffee]\n  C -->|Espresso| D[Prep Espresso]\n  C -->|Latte| E[Prep Latte]\n  C -->|Cappuccino| F[Prep Cappuccino]\n  C -->|Black| G[Prep Black Coffee]\n  D --> H{Customize}\n  E --> H\n  F --> H\n  G --> H\n  H -- Yes --> I[Add Sugar]\n  H -- No --> J[Proceed to Serve]\n  I --> J\n  J --> K[Pour Coffee]\n  K --> L{Add-ons?}\n  L -- Yes --> M[Choose Add-on]\n  L -- No --> N[Serve Coffee]\n  M -->|Milk Foam| O[Add Milk Foam]\n  M -->|Cinnamon| P[Add Cinnamon]\n  M -->|Chocolate| Q[Add Chocolate]\n  M -->|Whipped Cream| R[Add Whipped Cream]\n  O --> N\n  P --> N\n  Q --> N\n  R --> N\n  B -- No --> X[Maybe Tea?]\n  X -- Yes --> Y[Prepare Tea]\n  X -- No --> Z[Serve Water]\n  Y --> N\n  Z --> N\n  N --> END[Enjoy your beverage!]\n\n  classDef default fill:#f9f,stroke:#333,stroke-width:2px;\n  classDef yesno fill:#bbf,stroke:#333,stroke-width:2px;\n  classDef operation fill:#fdfd96,stroke:#333,stroke-width:2px;\n  classDef end fill:#82b74b,stroke:#333,stroke-width:2px;\n  \n  class B,C,H,L,X yesno;\n  class D,E,F,G,I,J,K,M,O,P,Q,R end;\n  class A,END operation;\n  class Y,Z default;"}
{"mermaid_cli_error":"{\"error\":\"Error generating image\",\"errorMessage\":\"Command failed: docker run --rm -v \/root\/mermaid_workspace:\/data -v \/root\/mermaid_api_server:\/css minlag\/mermaid-cli:10.6.0 mmdc -i \/data\/mermaid_1700804646303.mmd -o \/data\/image_1700804646303.svg -C \/css\/transparent-background.css\\n\\nError: Evaluation failed: Error: Parse error on line 37:\\n...idth:2px  classDef end fill:#82b74b,str\\n----------------------^\\nExpecting 'AMP', 'COLON', 'DOWN', 'DEFAULT', 'NUM', 'COMMA', 'NODE_STRING', 'BRKT', 'MINUS', 'MULT', 'UNICODE_TEXT', got 'end'\\n    at Lh.parseError (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/dist\/index.html:98:21111)\\n    at Lh.parse (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/dist\/index.html:100:179)\\n    at PUt.parse (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/dist\/index.html:64:512)\\n    at new PUt (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/dist\/index.html:64:247)\\n    at GjA (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/dist\/index.html:64:824)\\n    at async Object.N2e [as render] (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/dist\/index.html:87:1146)\\n    at ExecutionContext._ExecutionContext_evaluate (file:\/\/\/home\/mermaidcli\/node_modules\/puppeteer-core\/lib\/esm\/puppeteer\/common\/ExecutionContext.js:254:15)\\n    at process.processTicksAndRejections (node:internal\/process\/task_queues:95:5)\\n    at async ExecutionContext.evaluate (file:\/\/\/home\/mermaidcli\/node_modules\/puppeteer-core\/lib\/esm\/puppeteer\/common\/ExecutionContext.js:143:16)\\n    at async CDPJSHandle.evaluate (file:\/\/\/home\/mermaidcli\/node_modules\/puppeteer-core\/lib\/esm\/puppeteer\/common\/JSHandle.js:56:16)\\n    at async CDPElementHandle.$eval (file:\/\/\/home\/mermaidcli\/node_modules\/puppeteer-core\/lib\/esm\/puppeteer\/common\/ElementHandle.js:86:24)\\n    at async renderMermaid (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/src\/index.js:246:22)\\n    at async parseMMD (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/src\/index.js:218:20)\\n    at async run (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/src\/index.js:479:20)\\n    at async cli (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/src\/index.js:184:3)\\n\\n\",\"errorDetails\":\"\\nError: Evaluation failed: Error: Parse error on line 37:\\n...idth:2px  classDef end fill:#82b74b,str\\n----------------------^\\nExpecting 'AMP', 'COLON', 'DOWN', 'DEFAULT', 'NUM', 'COMMA', 'NODE_STRING', 'BRKT', 'MINUS', 'MULT', 'UNICODE_TEXT', got 'end'\\n    at Lh.parseError (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/dist\/index.html:98:21111)\\n    at Lh.parse (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/dist\/index.html:100:179)\\n    at PUt.parse (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/dist\/index.html:64:512)\\n    at new PUt (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/dist\/index.html:64:247)\\n    at GjA (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/dist\/index.html:64:824)\\n    at async Object.N2e [as render] (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/dist\/index.html:87:1146)\\n    at ExecutionContext._ExecutionContext_evaluate (file:\/\/\/home\/mermaidcli\/node_modules\/puppeteer-core\/lib\/esm\/puppeteer\/common\/ExecutionContext.js:254:15)\\n    at process.processTicksAndRejections (node:internal\/process\/task_queues:95:5)\\n    at async ExecutionContext.evaluate (file:\/\/\/home\/mermaidcli\/node_modules\/puppeteer-core\/lib\/esm\/puppeteer\/common\/ExecutionContext.js:143:16)\\n    at async CDPJSHandle.evaluate (file:\/\/\/home\/mermaidcli\/node_modules\/puppeteer-core\/lib\/esm\/puppeteer\/common\/JSHandle.js:56:16)\\n    at async CDPElementHandle.$eval (file:\/\/\/home\/mermaidcli\/node_modules\/puppeteer-core\/lib\/esm\/puppeteer\/common\/ElementHandle.js:86:24)\\n    at async renderMermaid (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/src\/index.js:246:22)\\n    at async parseMMD (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/src\/index.js:218:20)\\n    at async run (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/src\/index.js:479:20)\\n    at async cli (file:\/\/\/home\/mermaidcli\/node_modules\/@mermaid-js\/mermaid-cli\/src\/index.js:184:3)\\n\\n\"}"}
